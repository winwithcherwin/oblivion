"""
Dynamic MOTD script that centers a banner and subtext using wcwidth,
with reduced vertical padding so the MOTD appears higher on the screen.
"""

import os
import shutil
import locale
from wcwidth import wcswidth

# Set locale for proper Unicode handling.
locale.setlocale(locale.LC_ALL, '')

# Get terminal width; default to 80 if unavailable.
try:
    width = shutil.get_terminal_size().columns
except Exception:
    width = 80

# Define banner and subtext.
banner = "ｏｂｌｉｖｉｏｎ"
subtext = "Welcome."

# Calculate display widths using wcwidth.
banner_width = wcswidth(banner)
subtext_width = wcswidth(subtext)

# Compute left padding for centering.
banner_padding = (width - banner_width) // 2
subtext_padding = (width - subtext_width) // 2
if banner_padding < 0:
    banner_padding = 0
if subtext_padding < 0:
    subtext_padding = 0

# ANSI color codes for bold purple.
BOLD_PURPLE = "\033[1;35m"
RESET = "\033[0m"

# Print with minimal vertical breathing space: 1 blank line above and 1 below.
print("\n")
print(" " * banner_padding + BOLD_PURPLE + banner + RESET)
print(" " * subtext_padding + subtext)
print("\n")

